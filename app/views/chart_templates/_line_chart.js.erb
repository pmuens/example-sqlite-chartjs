<script>
  var data = {
    labels : ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
    datasets : [
      <% datasets.each_with_index do |dataset, index| %>
        {
          fillColor : 'rgba(<%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0.0..1.0) %>)',
          strokeColor : 'rgba(<%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0.0..1.0) %>)',
          pointColor : 'rgba(<%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0..255) %>, <%= rand(0.0..1.0) %>)',
          pointStrokeColor : '#FFFFFF',
          data : [
            <%= dataset.one %>,
            <%= dataset.two %>,
            <%= dataset.three %>,
            <%= dataset.four %>,
            <%= dataset.five %>,
            <%= dataset.six %>,
            <%= dataset.seven %>,
            <%= dataset.eight %>,
            <%= dataset.nine %>,
            <%= dataset.ten %>
          ]
        }
        <%= index < datasets.size-1 ? ', ' : '' %>
      <% end %>
    ]
  }

  barChart = new Chart($('#canvas').get(0).getContext('2d')).Line(data)
</script>